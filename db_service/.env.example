# Environment Configuration for Database Service
# Copy this file to .env and update the values for production

# ⚠️ IMPORTANT: Change ALL passwords before deployment!

# Database Configuration
DATABASE_URL=postgresql://legislatie_user:CHANGE_THIS_PASSWORD@postgres:5432/monitoring_platform
DB_SCHEMA=legislatie
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_ECHO=false

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# ⚠️ PRODUCTION WARNING: 
# DO NOT use API_RELOAD=true in production!
# Remove --reload flag from Dockerfile CMD instead
API_RELOAD=false

# CORS - Update with your actual domain
CORS_ORIGINS=["https://issuemonitoring.ro","https://www.issuemonitoring.ro"]

# Logging
LOG_LEVEL=INFO

# Docker (for docker-compose.yml)
DB_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_USER=legislatie_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=monitoring_platform

# Optional: PgAdmin (uncomment if needed)
# PGADMIN_EMAIL=admin@yourdomain.com
# PGADMIN_PASSWORD=CHANGE_THIS

# Security
# Generate secret key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=GENERATE_A_RANDOM_SECRET_KEY_HERE

# API Key Authentication (for /api/v1/ai/* and /api/v1/export/*)
# Generate: openssl rand -hex 32
API_KEY=GENERATE_YOUR_API_KEY_HERE
API_KEY_HEADER=X-API-Key

# IP Whitelist (comma-separated, empty = allow all)
# Example: 127.0.0.1,192.168.1.100,77.237.235.158
ALLOWED_IPS=

# AI Service Configuration
# OpenAI API: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic API: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# AI Provider: "openai" or "anthropic"
AI_PROVIDER=openai

# AI Model: gpt-4o, gpt-4-turbo, claude-3-5-sonnet-20241022, etc.
AI_MODEL=gpt-4o

# Rate limiting: seconds between API calls
AI_RATE_LIMIT_DELAY=1.0

# Issue Monitoring Integration
ISSUE_MONITORING_API_URL=https://api.issuemonitoring.ro/v1
ISSUE_MONITORING_API_KEY=YOUR_ISSUE_MONITORING_API_KEY

# Import Settings
IMPORT_BATCH_SIZE=100
CLEANUP_OLD_FILES=true
KEEP_LATEST_FILES=1

